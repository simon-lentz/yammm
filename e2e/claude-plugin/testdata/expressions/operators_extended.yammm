schema "expr_operators_extended"

// Source: expressions.md, operators not covered by operators.yammm:
// &&, ^, in, !~, ternary ?{}, indexing/slicing, *, -

type ExtOpRecord {
    id String primary
    x Integer required
    y Integer required
    name String[1, 100] required
    status String required
    active Boolean required
    score Integer

    // Logical AND (short-circuit)
    ! "both_positive" x > 0 && y > 0

    // Logical XOR
    ! "exactly_one_big" (x > 10) ^ (y > 10)

    // Membership
    ! "valid_status" status in ["active", "pending", "closed"]

    // Negated pattern match
    ! "not_numeric_name" name !~ /^[0-9]+$/

    // Ternary
    ! "score_check" score == nil ? { true : score >= 0 }

    // Indexing (substring)
    ! "name_starts_upper" name[0, 1] =~ /^[A-Z]$/

    // Multiplication, subtraction, division
    ! "product_positive" x * y > 0
    ! "subtraction_check" x - y < 100
}
