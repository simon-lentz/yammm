// Grammar snapshot test: exercises key TextMate scopes for the standalone yammm grammar.

schema "snapshot_test"

import "./sibling" as sib

// A type alias
type Email = Pattern["^[a-z]+@[a-z]+\\.[a-z]{2,}$"]

abstract type Auditable {
	created_at Timestamp required
}

type Person extends Auditable {
	id     String primary
	name   String[1, 255] required
	age    Integer[0, 150]
	active Boolean

	--> FRIEND (_:many) Person
	--> HAS    sib.Sibling
	--> KNOWS  (one) Person / KNOWN_BY (many)
	*-> OWNS   (many) Pet

	! "name_not_empty" name != ""
}

part type Pet {
	name String required
}
